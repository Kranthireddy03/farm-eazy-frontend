{"version":3,"file":"OrderConfirmation-CwNYvoHa.js","sources":["../../src/pages/OrderConfirmation.jsx"],"sourcesContent":["import { useEffect, useState } from 'react'\r\nimport { useNavigate, useParams } from 'react-router-dom'\r\nimport apiClient from '../services/apiClient'\r\n\r\nfunction OrderConfirmation() {\r\n  const { orderId } = useParams()\r\n  const navigate = useNavigate()\r\n  const [order, setOrder] = useState(null)\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState(null)\r\n\r\n  useEffect(() => {\r\n    const fetchOrder = async () => {\r\n      try {\r\n        const response = await apiClient.get(`/orders/${orderId}`)\r\n        setOrder(response.data)\r\n      } catch (err) {\r\n        setError('Unable to load order details')\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n    fetchOrder()\r\n  }, [orderId])\r\n\r\n  const formatCurrency = (amount) => `â‚¹${Number(amount || 0).toFixed(2)}`\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 to-slate-800\">\r\n        <div className=\"text-center\">\r\n          <div className=\"spinner text-green-400 mb-4\">\r\n            <svg className=\"animate-spin w-12 h-12 mx-auto\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n              <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n            </svg>\r\n          </div>\r\n          <p className=\"text-slate-300 text-lg\">Loading your order...</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (error || !order) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 to-slate-800\">\r\n        <div className=\"bg-slate-800 border border-slate-700 rounded-lg shadow-lg p-8 text-center\">\r\n          <p className=\"text-red-400 mb-4\">{error || 'Order not found'}</p>\r\n          <button\r\n            onClick={() => navigate('/orders')}\r\n            className=\"bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-8 rounded-lg transition\"\r\n          >\r\n            Go to My Orders\r\n          </button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // Calculate coin discount (coins used * 1 rupee per coin)\r\n  const coinDiscount = order.coinsUsed || 0\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 py-8 px-4\">\r\n      <div className=\"max-w-3xl mx-auto\">\r\n        <div className=\"bg-slate-800 border border-slate-700 rounded-lg shadow-lg p-8\">\r\n          {/* Success Header */}\r\n          <div className=\"text-center mb-6\">\r\n            <div className=\"bg-green-900/50 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4\">\r\n              <svg className=\"w-12 h-12 text-green-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n              </svg>\r\n            </div>\r\n            <h1 className=\"text-3xl font-bold text-white\">Order Confirmed!</h1>\r\n            <p className=\"text-slate-400 mt-2\">Thank you for your purchase</p>\r\n            <p className=\"text-sm text-slate-500 mt-1\">Order ID: <span className=\"font-semibold text-green-400\">#FZ{order.id}</span></p>\r\n          </div>\r\n\r\n          {/* Order Items */}\r\n          <div className=\"border-t border-b border-slate-700 py-6 mb-6\">\r\n            <h2 className=\"text-lg font-semibold text-white mb-4\">Order Items</h2>\r\n            {order.items && order.items.length > 0 ? (\r\n              <div className=\"space-y-3\">\r\n                {order.items.map(item => (\r\n                  <div key={item.productId} className=\"flex justify-between items-center bg-slate-700 p-3 rounded-lg\">\r\n                    <div>\r\n                      <p className=\"font-semibold text-white\">{item.productName}</p>\r\n                      <p className=\"text-sm text-slate-400\">Quantity: {item.quantity} {item.unit}</p>\r\n                    </div>\r\n                    <p className=\"font-semibold text-white\">{formatCurrency(item.totalPrice)}</p>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            ) : (\r\n              <p className=\"text-sm text-slate-400\">No items found.</p>\r\n            )}\r\n          </div>\r\n\r\n          {/* Price Breakdown */}\r\n          <div className=\"bg-slate-700 rounded-lg p-6 mb-6\">\r\n            <h2 className=\"text-lg font-semibold text-white mb-4\">Price Breakdown</h2>\r\n            <div className=\"space-y-3\">\r\n              <div className=\"flex justify-between text-slate-300\">\r\n                <span>Subtotal:</span>\r\n                <span className=\"font-semibold\">{formatCurrency(order.subtotal)}</span>\r\n              </div>\r\n\r\n              {coinDiscount > 0 && (\r\n                <div className=\"flex justify-between text-green-400 font-semibold\">\r\n                  <span>ðŸª™ Coin Discount ({coinDiscount} coins):</span>\r\n                  <span>- {formatCurrency(coinDiscount)}</span>\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"flex justify-between text-slate-300\">\r\n                <span>Tax & Charges:</span>\r\n                <span className=\"font-semibold\">{formatCurrency(order.taxAmount)}</span>\r\n              </div>\r\n\r\n              <div className=\"border-t border-slate-600 pt-3 flex justify-between text-lg font-bold text-green-400\">\r\n                <span>Final Amount:</span>\r\n                <span>{formatCurrency(order.finalAmount)}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Delivery Info */}\r\n          <div className=\"bg-blue-900/30 border-l-4 border-blue-400 p-4 mb-6 rounded\">\r\n            <div className=\"flex items-start\">\r\n              <svg className=\"w-6 h-6 text-blue-400 mr-3 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n              </svg>\r\n              <div>\r\n                <h3 className=\"font-semibold text-blue-300 mb-1\">Delivery Information</h3>\r\n                <p className=\"text-blue-300 text-sm\">Expected delivery: 3-5 business days</p>\r\n                <p className=\"text-blue-300 text-sm\">Order Status: {order.orderStatus || 'Processing'}</p>\r\n                <p className=\"text-blue-300 text-sm\">Payment Status: {order.paymentStatus || 'Pending'}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Action Buttons */}\r\n          <div className=\"flex gap-3\">\r\n            <button\r\n              onClick={() => navigate('/orders')}\r\n              className=\"flex-1 bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-lg transition\"\r\n            >\r\n              View All Orders\r\n            </button>\r\n            <button\r\n              onClick={() => navigate('/buying')}\r\n              className=\"flex-1 bg-slate-700 hover:bg-slate-600 text-white font-semibold py-3 px-4 rounded-lg transition\"\r\n            >\r\n              Continue Shopping\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default OrderConfirmation\r\n"],"names":["OrderConfirmation","orderId","useParams","navigate","useNavigate","order","setOrder","useState","loading","setLoading","error","setError","useEffect","response","apiClient","formatCurrency","amount","jsxs","jsx","coinDiscount","item"],"mappings":"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"}