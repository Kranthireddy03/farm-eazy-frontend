import{u as C,r as t,j as e,h as S}from"./index-CfUSoOK0.js";function k(){C();const[s,m]=t.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[a,w]=t.useState({}),[h,u]=t.useState(!1),[j,p]=t.useState(!1),[f,b]=t.useState(""),[l,g]=t.useState(!1),[o,P]=t.useState(!1),[d,N]=t.useState(!1),v=()=>{const r={};return s.currentPassword||(r.currentPassword="Current password is required"),s.newPassword?s.newPassword.length<6&&(r.newPassword="Password must be at least 6 characters"):r.newPassword="New password is required",s.confirmPassword?s.newPassword!==s.confirmPassword&&(r.confirmPassword="Passwords do not match"):r.confirmPassword="Please confirm your password",s.currentPassword&&s.newPassword&&s.currentPassword===s.newPassword&&(r.newPassword="New password must be different from current password"),w(r),Object.keys(r).length===0},c=r=>{const{name:n,value:i}=r.target;m(x=>({...x,[n]:i})),a[n]&&w(x=>({...x,[n]:""}))},y=async r=>{if(r.preventDefault(),b(""),!!v()){u(!0);try{await S.post("/auth/change-password",{currentPassword:s.currentPassword,newPassword:s.newPassword}),p(!0),m({currentPassword:"",newPassword:"",confirmPassword:""})}catch(n){const i=n.response?.data?.message||"Password change failed. Please try again.";b(i)}finally{u(!1)}}};return j?e.jsx("div",{className:"max-w-2xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"bg-gradient-to-br from-emerald-500 to-green-600 rounded-3xl shadow-2xl p-8 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-6 animate-bounce",children:e.jsx("span",{className:"text-5xl",children:"âœ…"})}),e.jsx("h1",{className:"text-3xl font-extrabold text-white mb-4",children:"Password Changed!"}),e.jsx("p",{className:"text-emerald-100 mb-6",children:"Your password has been successfully updated. A confirmation email has been sent."}),e.jsx("button",{onClick:()=>p(!1),className:"px-8 py-3 bg-emerald-600 text-white font-bold rounded-xl shadow-lg transform transition-all duration-300 hover:scale-105 hover:bg-emerald-500",children:"Done âœ“"})]})}):e.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-emerald-600 via-green-600 to-teal-600 rounded-t-3xl p-6 shadow-lg",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"text-3xl",children:"ğŸ”"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Change Password"}),e.jsx("p",{className:"text-emerald-100 text-sm",children:"Keep your account secure with a strong password"})]})]})}),e.jsx("div",{className:"bg-slate-800 border border-slate-700 rounded-b-3xl shadow-2xl p-8",children:e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[f&&e.jsxs("div",{className:"bg-red-900/30 border-2 border-red-700 text-red-400 px-4 py-3 rounded-xl flex items-center gap-3",children:[e.jsx("span",{className:"text-xl",children:"âš ï¸"}),e.jsx("p",{className:"font-medium",children:f})]}),e.jsx("div",{className:"bg-amber-900/30 border-2 border-amber-700 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:"ğŸ’¡"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-amber-400",children:"Password Tips"}),e.jsxs("ul",{className:"text-sm text-amber-300 mt-1 space-y-1",children:[e.jsx("li",{children:"â€¢ Use at least 6 characters"}),e.jsx("li",{children:"â€¢ Mix letters, numbers, and symbols"}),e.jsx("li",{children:"â€¢ Avoid common words or personal info"})]})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-slate-300 text-sm font-semibold flex items-center gap-2",children:[e.jsx("span",{children:"ğŸ”’"})," Current Password"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:l?"text":"password",name:"currentPassword",value:s.currentPassword,onChange:c,className:"w-full px-4 py-3.5 bg-slate-700 border-2 border-slate-600 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:border-transparent transition-all duration-300 pr-12",placeholder:"Enter current password"}),e.jsx("button",{type:"button",onClick:()=>g(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-200 transition-colors",children:l?"ğŸ‘ï¸":"ğŸ‘ï¸â€ğŸ—¨ï¸"})]}),a.currentPassword&&e.jsxs("p",{className:"text-red-400 text-sm flex items-center gap-1",children:[e.jsx("span",{children:"âŒ"})," ",a.currentPassword]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex-1 h-px bg-slate-600"}),e.jsx("span",{className:"text-slate-500 text-sm",children:"New Password"}),e.jsx("div",{className:"flex-1 h-px bg-slate-600"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-slate-300 text-sm font-semibold flex items-center gap-2",children:[e.jsx("span",{children:"ğŸ”"})," New Password"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:o?"text":"password",name:"newPassword",value:s.newPassword,onChange:c,className:"w-full px-4 py-3.5 bg-slate-700 border-2 border-slate-600 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:border-transparent transition-all duration-300 pr-12",placeholder:"Enter new password"}),e.jsx("button",{type:"button",onClick:()=>P(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-200 transition-colors",children:o?"ğŸ‘ï¸":"ğŸ‘ï¸â€ğŸ—¨ï¸"})]}),a.newPassword&&e.jsxs("p",{className:"text-red-400 text-sm flex items-center gap-1",children:[e.jsx("span",{children:"âŒ"})," ",a.newPassword]}),s.newPassword&&s.newPassword.length>=6&&!a.newPassword&&e.jsxs("p",{className:"text-emerald-400 text-sm flex items-center gap-1",children:[e.jsx("span",{children:"âœ…"})," Password strength: Good"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-slate-300 text-sm font-semibold flex items-center gap-2",children:[e.jsx("span",{children:"ğŸ”"})," Confirm New Password"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:d?"text":"password",name:"confirmPassword",value:s.confirmPassword,onChange:c,className:"w-full px-4 py-3.5 bg-slate-700 border-2 border-slate-600 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:border-transparent transition-all duration-300 pr-12",placeholder:"Confirm new password"}),e.jsx("button",{type:"button",onClick:()=>N(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-200 transition-colors",children:d?"ğŸ‘ï¸":"ğŸ‘ï¸â€ğŸ—¨ï¸"})]}),a.confirmPassword&&e.jsxs("p",{className:"text-red-400 text-sm flex items-center gap-1",children:[e.jsx("span",{children:"âŒ"})," ",a.confirmPassword]}),s.confirmPassword&&s.newPassword===s.confirmPassword&&!a.confirmPassword&&e.jsxs("p",{className:"text-emerald-400 text-sm flex items-center gap-1",children:[e.jsx("span",{children:"âœ…"})," Passwords match!"]})]}),e.jsx("button",{type:"submit",disabled:h,className:"w-full py-4 bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white font-bold rounded-xl shadow-lg shadow-emerald-500/30 transform transition-all duration-300 hover:scale-[1.02] hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center gap-2",children:h?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating Password..."]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"ğŸ”„"})," Update Password"]})})]})}),e.jsx("div",{className:"text-center mt-6 text-slate-500 text-sm",children:e.jsx("p",{children:"ğŸ”’ Your password is encrypted and secure"})})]})}export{k as default};
//# sourceMappingURL=ChangePassword-lnVRcmrA.js.map
