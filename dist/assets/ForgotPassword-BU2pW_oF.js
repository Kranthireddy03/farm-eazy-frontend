import{u as v,r as a,j as e,L as j,A as w}from"./index-D_IIqowu.js";function y(){const i=v(),[l,u]=a.useState(""),[r,o]=a.useState({}),[d,c]=a.useState(!1),[p,b]=a.useState(!1),[n,m]=a.useState(0),[x,h]=a.useState("");a.useEffect(()=>{if(n<=0)return;const t=setInterval(()=>{m(s=>s<=1?(clearInterval(t),0):s-1)},1e3);return()=>clearInterval(t)},[n]);const f=()=>{const t={};return l?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l)||(t.email="Please enter a valid email"):t.email="Email is required",o(t),Object.keys(t).length===0},g=async t=>{if(t.preventDefault(),h(""),!!f()){c(!0);try{await w.forgotPassword(l),b(!0),m(30),setTimeout(()=>i("/login"),33e3)}catch(s){s.status===503||s.message?.includes("email")?i("/email-error",{state:{title:"Email Delivery Failed",message:s.message||"Unable to send the password reset email.",email:l,returnPath:"/forgot-password"}}):h(s.message||"Failed to process request. Please try again.")}finally{c(!1)}}};return e.jsxs("div",{className:"min-h-screen relative overflow-hidden flex items-center justify-center px-4 py-8",children:[e.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-900 via-purple-800 to-violet-900",children:[e.jsxs("div",{className:"absolute inset-0 opacity-30",children:[e.jsx("div",{className:"absolute top-0 -left-4 w-72 h-72 bg-pink-400 rounded-full mix-blend-multiply filter blur-xl animate-pulse"}),e.jsx("div",{className:"absolute top-0 -right-4 w-72 h-72 bg-indigo-400 rounded-full mix-blend-multiply filter blur-xl animate-pulse",style:{animationDelay:"2s"}}),e.jsx("div",{className:"absolute -bottom-8 left-20 w-72 h-72 bg-purple-300 rounded-full mix-blend-multiply filter blur-xl animate-pulse",style:{animationDelay:"4s"}})]}),e.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.4'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})]}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 text-6xl opacity-20 animate-bounce",style:{animationDuration:"3s"},children:"üîê"}),e.jsx("div",{className:"absolute top-40 right-20 text-5xl opacity-20 animate-bounce",style:{animationDuration:"4s",animationDelay:"1s"},children:"üìß"}),e.jsx("div",{className:"absolute bottom-32 left-1/4 text-4xl opacity-20 animate-bounce",style:{animationDuration:"5s",animationDelay:"2s"},children:"üîë"}),e.jsx("div",{className:"absolute bottom-20 right-1/3 text-5xl opacity-20 animate-bounce",style:{animationDuration:"3.5s"},children:"üåæ"})]}),e.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[e.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl shadow-2xl border border-white/20 p-8 transform transition-all duration-500 hover:scale-[1.02]",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"relative inline-block",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-pink-400 to-purple-500 rounded-2xl rotate-3 absolute -top-1 -left-1 opacity-50"}),e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-indigo-400 to-violet-600 rounded-2xl flex items-center justify-center relative shadow-lg",children:e.jsx("span",{className:"text-4xl",children:"üîê"})})]}),e.jsx("h1",{className:"text-3xl font-extrabold text-white mt-6 tracking-tight",children:"Forgot Password?"}),e.jsx("p",{className:"text-indigo-200 mt-2 text-sm",children:"No worries! Enter your email to reset it."})]}),p?e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-emerald-400 to-green-600 rounded-full flex items-center justify-center mx-auto mb-6 animate-bounce",children:e.jsx("span",{className:"text-4xl",children:"‚úÖ"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-3",children:"Check Your Email!"}),e.jsxs("p",{className:"text-indigo-200 mb-6",children:["We've sent a password reset link to ",e.jsx("span",{className:"text-white font-semibold",children:l})]}),e.jsx("div",{className:"bg-white/10 rounded-xl p-4 border border-white/20",children:e.jsxs("p",{className:"text-white/70 text-sm",children:["Redirecting to login in"," ",e.jsx("span",{className:"text-yellow-400 font-bold text-lg",children:n})," ","seconds..."]})}),e.jsx("button",{onClick:()=>i("/login"),className:"mt-4 text-indigo-300 hover:text-white transition-colors text-sm font-medium",children:"Go to login now ‚Üí"})]}):e.jsxs("form",{onSubmit:g,className:"space-y-5",children:[x&&e.jsxs("div",{className:"bg-red-500/20 backdrop-blur-sm border border-red-400/30 text-red-100 px-4 py-3 rounded-xl flex items-center gap-3",children:[e.jsx("span",{className:"text-xl",children:"‚ö†Ô∏è"}),e.jsx("p",{className:"font-medium",children:x})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-white/90 text-sm font-semibold flex items-center gap-2",children:[e.jsx("span",{children:"üìß"})," Email Address"]}),e.jsx("input",{type:"email",value:l,onChange:t=>{u(t.target.value),r.email&&o({})},className:"w-full px-4 py-3.5 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:border-transparent transition-all duration-300 backdrop-blur-sm",placeholder:"farmer@example.com"}),r.email&&e.jsxs("p",{className:"text-red-300 text-sm flex items-center gap-1",children:[e.jsx("span",{children:"‚ùå"})," ",r.email]})]}),e.jsx("button",{type:"submit",disabled:d,className:"w-full py-4 bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 text-white font-bold rounded-xl shadow-lg shadow-indigo-500/30 transform transition-all duration-300 hover:scale-[1.02] hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center gap-2",children:d?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"üì§"})," Send Reset Link"]})})]}),e.jsxs("div",{className:"flex items-center gap-4 my-6",children:[e.jsx("div",{className:"flex-1 h-px bg-white/20"}),e.jsx("span",{className:"text-white/40 text-sm",children:"or"}),e.jsx("div",{className:"flex-1 h-px bg-white/20"})]}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-white/70",children:["Remember your password?"," ",e.jsx(j,{to:"/login",className:"text-yellow-400 hover:text-yellow-300 font-bold transition-colors",children:"Login here üîë"})]})})]}),e.jsx("div",{className:"text-center mt-6 text-white/40 text-sm",children:e.jsx("p",{children:"üåæ We're here to help üåæ"})})]})]})}export{y as default};
//# sourceMappingURL=ForgotPassword-BU2pW_oF.js.map
