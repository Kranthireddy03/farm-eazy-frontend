{"version":3,"file":"FarmDetail-BtMBXoWS.js","sources":["../../src/pages/FarmDetail.jsx"],"sourcesContent":["/**\r\n * Farm Detail Page\r\n * \r\n * Features:\r\n * - Display farm information\r\n * - Show associated crops\r\n * - Edit farm details\r\n * - Go back to farms list\r\n */\r\n\r\nimport { useParams, useNavigate, Link } from 'react-router-dom'\r\nimport { formatDate } from '../utils/formatDate';\r\nimport { useState, useEffect } from 'react'\r\nimport apiClient from '../services/apiClient'\r\nimport { API_ENDPOINTS } from '../config/api'\r\n\r\nfunction FarmDetail() {\r\n  const { farmId } = useParams()\r\n  const navigate = useNavigate()\r\n  const [farm, setFarm] = useState(null)\r\n  const [crops, setCrops] = useState([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState('')\r\n\r\n  useEffect(() => {\r\n    fetchFarmDetail()\r\n    fetchCrops()\r\n  }, [farmId])\r\n\r\n  const fetchFarmDetail = async () => {\r\n    try {\r\n      setLoading(true)\r\n      const response = await apiClient.get(API_ENDPOINTS.GET_FARM_BY_ID(farmId))\r\n      setFarm(response.data)\r\n      setError('')\r\n    } catch (err) {\r\n      setError('Failed to load farm details')\r\n      console.error(err)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const fetchCrops = async () => {\r\n    try {\r\n      const response = await apiClient.get(API_ENDPOINTS.GET_CROPS)\r\n      const farmCrops = response.data.filter(crop => crop.farmId === parseInt(farmId))\r\n      setCrops(farmCrops)\r\n    } catch (err) {\r\n      console.error('Failed to fetch crops:', err)\r\n    }\r\n  }\r\n\r\n  const getStatusColor = (status) => {\r\n    const colors = {\r\n      PLANTED: 'bg-blue-100 text-blue-800',\r\n      GROWING: 'bg-green-100 text-green-800',\r\n      READY: 'bg-yellow-100 text-yellow-800',\r\n      HARVESTED: 'bg-gray-100 text-gray-800',\r\n    }\r\n    return colors[status] || 'bg-gray-100 text-gray-800'\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4\"></div>\r\n          <p className=\"text-gray-600\">Loading farm details...</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (!farm) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 flex items-center justify-center px-4\">\r\n        <div className=\"bg-slate-800 border border-slate-700 rounded-2xl shadow-xl p-8 text-center max-w-md\">\r\n          <span className=\"text-6xl mb-4 block\">üåæ</span>\r\n          <h2 className=\"text-2xl font-bold text-white mb-2\">Farm Not Found</h2>\r\n          <p className=\"text-slate-400 mb-6\">The farm you're looking for doesn't exist or has been removed.</p>\r\n          <button\r\n            onClick={() => navigate('/farms')}\r\n            className=\"px-6 py-3 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg font-semibold hover:from-green-700 hover:to-green-800 transition-all\"\r\n          >\r\n            ‚Üê Back to Farms\r\n          </button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 py-8 px-4\">\r\n      <div className=\"max-w-4xl mx-auto\">\r\n        {/* Header */}\r\n        <div className=\"mb-6\">\r\n          <button\r\n            onClick={() => navigate('/farms')}\r\n            className=\"flex items-center gap-2 text-green-400 hover:text-green-300 font-semibold mb-4 transition-colors\"\r\n          >\r\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\r\n            </svg>\r\n            Back to Farms\r\n          </button>\r\n        </div>\r\n\r\n        {error && (\r\n          <div className=\"mb-6 bg-red-900/30 border border-red-700 text-red-400 px-4 py-3 rounded-lg\">\r\n            {error}\r\n          </div>\r\n        )}\r\n\r\n        {/* Farm Header Card */}\r\n        <div className=\"bg-gradient-to-r from-green-600 to-green-700 rounded-2xl shadow-xl p-8 text-white mb-6\">\r\n          <div className=\"flex items-start justify-between\">\r\n            <div>\r\n              <span className=\"text-6xl mb-4 block\">üåæ</span>\r\n              <h1 className=\"text-3xl font-bold mb-2\">{farm.farmName}</h1>\r\n              <p className=\"text-green-100 flex items-center gap-2\">\r\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\" />\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\" />\r\n                </svg>\r\n                {farm.location}\r\n              </p>\r\n            </div>\r\n            <Link\r\n              to=\"/farms\"\r\n              className=\"px-4 py-2 bg-slate-700/50 rounded-lg text-white hover:bg-slate-600/50 transition-all\"\r\n            >\r\n              Edit Farm\r\n            </Link>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Farm Details Card */}\r\n        <div className=\"bg-slate-800 border border-slate-700 rounded-xl shadow-lg p-6 mb-6\">\r\n          <h2 className=\"text-xl font-bold text-white mb-6 flex items-center gap-2\">\r\n            <span>üìã</span> Farm Details\r\n          </h2>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            <div className=\"bg-slate-700 rounded-lg p-4\">\r\n              <p className=\"text-slate-400 text-sm mb-1\">Farm Name</p>\r\n              <p className=\"text-lg font-semibold text-white\">{farm.farmName}</p>\r\n            </div>\r\n            <div className=\"bg-slate-700 rounded-lg p-4\">\r\n              <p className=\"text-slate-400 text-sm mb-1\">Location</p>\r\n              <p className=\"text-lg font-semibold text-white\">{farm.location}</p>\r\n            </div>\r\n            <div className=\"bg-slate-700 rounded-lg p-4\">\r\n              <p className=\"text-slate-400 text-sm mb-1\">Area Size</p>\r\n              <p className=\"text-lg font-semibold text-white\">{farm.areaSize} hectares</p>\r\n            </div>\r\n            <div className=\"bg-slate-700 rounded-lg p-4\">\r\n              <p className=\"text-slate-400 text-sm mb-1\">Created On</p>\r\n              <p className=\"text-lg font-semibold text-white\">\r\n                {formatDate(farm.createdAt)}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Associated Crops Card */}\r\n        <div className=\"bg-slate-800 border border-slate-700 rounded-xl shadow-lg p-6\">\r\n          <div className=\"flex items-center justify-between mb-6\">\r\n            <h2 className=\"text-xl font-bold text-white flex items-center gap-2\">\r\n              <span>üå±</span> Associated Crops\r\n            </h2>\r\n            <Link\r\n              to=\"/crops\"\r\n              className=\"px-4 py-2 bg-green-900/40 text-green-400 rounded-lg font-medium hover:bg-green-900/60 transition-colors\"\r\n            >\r\n              + Add Crop\r\n            </Link>\r\n          </div>\r\n          \r\n          {crops.length === 0 ? (\r\n            <div className=\"text-center py-8 bg-slate-700 rounded-lg\">\r\n              <span className=\"text-4xl mb-3 block\">üå±</span>\r\n              <p className=\"text-slate-400 mb-4\">No crops planted in this farm yet</p>\r\n              <Link\r\n                to=\"/crops\"\r\n                className=\"inline-block px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors\"\r\n              >\r\n                Plant Your First Crop\r\n              </Link>\r\n            </div>\r\n          ) : (\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              {crops.map((crop) => (\r\n                <div key={crop.id} className=\"border border-slate-600 rounded-lg p-4 bg-slate-700 hover:bg-slate-600 transition-all\">\r\n                  <div className=\"flex items-start justify-between\">\r\n                    <div>\r\n                      <h3 className=\"font-semibold text-white\">{crop.cropName}</h3>\r\n                      <p className=\"text-sm text-slate-400\">Season: {crop.season}</p>\r\n                    </div>\r\n                    <span className={`px-2 py-1 rounded-full text-xs font-medium ${getStatusColor(crop.status)}`}>\r\n                      {crop.status}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default FarmDetail\r\n"],"names":["FarmDetail","farmId","useParams","navigate","useNavigate","farm","setFarm","useState","crops","setCrops","loading","setLoading","error","setError","useEffect","fetchFarmDetail","fetchCrops","response","apiClient","API_ENDPOINTS","err","farmCrops","crop","getStatusColor","status","jsxs","jsx","Link","formatDate"],"mappings":"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"}