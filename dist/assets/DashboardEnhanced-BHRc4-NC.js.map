{"version":3,"file":"DashboardEnhanced-BHRc4-NC.js","sources":["../../src/pages/DashboardEnhanced.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport { useToast } from '../hooks/useToast';\r\nimport { useCoin } from '../context/CoinContext';\r\nimport apiClient from '../services/apiClient';\r\nimport Toast from '../components/Toast';\r\n\r\n/**\r\n * Enhanced Dashboard with Analytics & Activity Feed\r\n * \r\n * Features:\r\n * - Product count, farm count, crop count displays\r\n * - User activity log with scrollable feed\r\n * - Activity filtering and search\r\n * - Statistics and insights\r\n * - Quick actions\r\n */\r\n\r\nfunction DashboardEnhanced() {\r\n  const navigate = useNavigate()\r\n  const { toast, showToast, closeToast } = useToast()\r\n  const { coins } = useCoin()\r\n\r\n  // Service filter/sort states\r\n  const [serviceFilter, setServiceFilter] = useState('')\r\n  const [serviceSort, setServiceSort] = useState('name')\r\n  const [deleteConfirmId, setDeleteConfirmId] = useState(null)\r\n\r\n  const [stats, setStats] = useState({\r\n    totalFarms: 0,\r\n    totalCrops: 0,\r\n    totalIrrigations: 0,\r\n    totalProducts: 0,\r\n    totalOrders: 0,\r\n    totalServices: 0,\r\n    activeAlerts: 0\r\n  })\r\n  \r\n  const [activities, setActivities] = useState([])\r\n  const [filteredActivities, setFilteredActivities] = useState([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [selectedActivityType, setSelectedActivityType] = useState('ALL')\r\n  const [searchTerm, setSearchTerm] = useState('')\r\n  const [serviceListings, setServiceListings] = useState([])\r\n\r\n  const activityTypes = [\r\n    { value: 'ALL', label: 'All Activities', icon: 'üìù' },\r\n    { value: 'REGISTERED', label: 'Account', icon: '‚úçÔ∏è' },\r\n    { value: 'ORDER_PLACED', label: 'Orders', icon: 'üì¶' },\r\n    { value: 'ADDED_PRODUCT', label: 'Products', icon: '‚ûï' },\r\n    { value: 'FARM_ADDED', label: 'Farms', icon: 'üåæ' },\r\n    { value: 'CROP_ADDED', label: 'Crops', icon: 'üå±' },\r\n    { value: 'COINS_EARNED', label: 'Coins', icon: 'ü™ô' }\r\n  ]\r\n\r\n  // Fetch dashboard statistics\r\n  useEffect(() => {\r\n    fetchStats()\r\n  }, [])\r\n\r\n  // Filter activities when type or search changes\r\n  useEffect(() => {\r\n    filterActivities()\r\n  }, [activities, selectedActivityType, searchTerm])\r\n\r\n  const fetchStats = async () => {\r\n    try {\r\n      setLoading(true)\r\n\r\n      // Fetch all stats in parallel\r\n      const [farmsRes, cropsRes, irrigationRes, productsRes, servicesRes, ordersRes] =\r\n        await Promise.allSettled([\r\n          apiClient.get('/farms'),\r\n          apiClient.get('/crops'),\r\n          apiClient.get('/irrigation'),\r\n          apiClient.get('/products'),\r\n          apiClient.get('/services/listings'),\r\n          apiClient.get('/orders').catch(() => ({ data: { totalOrders: 0 } }))\r\n        ]);\r\n\r\n      const activitiesRes = await apiClient.get('/activities');\r\n      setActivities(Array.isArray(activitiesRes.data) ? activitiesRes.data : []);\r\n\r\n      const newStats = { ...stats }\r\n\r\n      // Process results\r\n      if (farmsRes.status === 'fulfilled') {\r\n        newStats.totalFarms = Array.isArray(farmsRes.value.data) ? farmsRes.value.data.length : 0\r\n      }\r\n      if (cropsRes.status === 'fulfilled') {\r\n        newStats.totalCrops = Array.isArray(cropsRes.value.data) ? cropsRes.value.data.length : 0\r\n      }\r\n      if (irrigationRes.status === 'fulfilled') {\r\n        newStats.totalIrrigations = Array.isArray(irrigationRes.value.data) ? irrigationRes.value.data.length : 0\r\n      }\r\n      if (productsRes.status === 'fulfilled') {\r\n        newStats.totalProducts = Array.isArray(productsRes.value.data) ? productsRes.value.data.length : 0\r\n      }\r\n      if (servicesRes.status === 'fulfilled') {\r\n        const servicesData = servicesRes.value.data\r\n        // Get user info from localStorage (assumes user object with id or email)\r\n        let user = null;\r\n        try {\r\n          user = JSON.parse(localStorage.getItem('user'));\r\n        } catch {}\r\n        // Handle paginated response (Spring Boot Page object)\r\n        let allServices = [];\r\n        if (servicesData.content && Array.isArray(servicesData.content)) {\r\n          allServices = servicesData.content;\r\n        } else if (Array.isArray(servicesData)) {\r\n          allServices = servicesData;\r\n        }\r\n        // Filter by user if possible\r\n        let filtered = allServices;\r\n        if (user && user.id) {\r\n          filtered = allServices.filter(s => s.userId === user.id);\r\n        }\r\n        setServiceListings(filtered);\r\n        newStats.totalServices = filtered.length;\r\n        if (!allServices.length) {\r\n          setServiceListings([]);\r\n          newStats.totalServices = 0;\r\n        }\r\n      }\r\n      if (ordersRes.status === 'fulfilled') {\r\n        newStats.totalOrders = Array.isArray(ordersRes.value.data) ? ordersRes.value.data.length : 0\r\n      }\r\n\r\n      setStats(newStats)\r\n    } catch (error) {\r\n      console.error('Error fetching stats:', error)\r\n      showToast('Failed to load dashboard data', 'error')\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  // Service management functions\r\n  const editService = (id) => {\r\n    navigate(`/services/edit/${id}`);\r\n  };\r\n\r\n  const deleteService = async (id) => {\r\n    try {\r\n      await apiClient.delete(`/services/${id}`);\r\n      setServiceListings(prev => prev.filter(s => s.id !== id));\r\n      showToast('Service deleted successfully', 'success');\r\n      setDeleteConfirmId(null);\r\n    } catch (error) {\r\n      showToast('Failed to delete service', 'error');\r\n      setDeleteConfirmId(null);\r\n    }\r\n  };\r\n\r\n  const filterActivities = () => {\r\n    let filtered = activities\r\n\r\n    // Filter by type\r\n    if (selectedActivityType !== 'ALL') {\r\n      filtered = filtered.filter(activity => \r\n        activity.activityType === selectedActivityType\r\n      )\r\n    }\r\n\r\n    // Filter by search term\r\n    if (searchTerm) {\r\n      filtered = filtered.filter(activity =>\r\n        activity.description.toLowerCase().includes(searchTerm.toLowerCase())\r\n      )\r\n    }\r\n\r\n    setFilteredActivities(filtered)\r\n  }\r\n\r\n  const getActivityIcon = (activityType) => {\r\n    const iconMap = {\r\n      'REGISTERED': '‚úçÔ∏è',\r\n      'LOGGED_IN': 'üîì',\r\n      'LOGGED_OUT': 'üîí',\r\n      'ADDED_PRODUCT': '‚ûï',\r\n      'REMOVED_PRODUCT': '‚ûñ',\r\n      'UPDATED_PRODUCT': '‚úèÔ∏è',\r\n      'ADDED_TO_CART': 'üõí',\r\n      'REMOVED_FROM_CART': 'üóëÔ∏è',\r\n      'ORDER_PLACED': 'üì¶',\r\n      'ORDER_PAID': 'üí≥',\r\n      'ORDER_SHIPPED': 'üöö',\r\n      'ORDER_DELIVERED': '‚úÖ',\r\n      'ORDER_CANCELLED': '‚ùå',\r\n      'COINS_EARNED': 'ü™ô',\r\n      'COINS_USED': 'üí∞',\r\n      'PASSWORD_CHANGED': 'üîê',\r\n      'PROFILE_UPDATED': 'üë§',\r\n      'FARM_ADDED': 'üåæ',\r\n      'FARM_UPDATED': 'üîÑ',\r\n      'FARM_DELETED': '‚ùå',\r\n      'CROP_ADDED': 'üå±',\r\n      'CROP_UPDATED': 'üîÑ',\r\n      'CROP_DELETED': '‚ùå',\r\n      'IRRIGATION_ADDED': 'üíß',\r\n      'IRRIGATION_UPDATED': 'üîÑ',\r\n      'IRRIGATION_DELETED': '‚ùå',\r\n      'PAYMENT_FAILED': '‚ö†Ô∏è'\r\n    }\r\n    return iconMap[activityType] || 'üìù'\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 py-8 px-4 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-green-400 mx-auto mb-4\"></div>\r\n          <p className=\"text-slate-400\">Loading dashboard...</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 py-8 px-4\">\r\n      {/* Toast Notification */}\r\n      {toast && (\r\n        <Toast message={toast.message} type={toast.type} onClose={closeToast} />\r\n      )}\r\n      <div className=\"max-w-7xl mx-auto\">\r\n        {/* Header */}\r\n        <div className=\"mb-8\">\r\n          <h1 className=\"text-4xl font-bold text-white mb-2\">Welcome Back! üëã</h1>\r\n          <p className=\"text-slate-400\">Here's your farming dashboard overview</p>\r\n        </div>\r\n\r\n        {/* Analytics Grid */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\r\n          {/* Farms Card */}\r\n          <div className=\"bg-slate-800 border border-slate-700 rounded-lg shadow-lg p-6 hover:shadow-xl transition-shadow border-l-4 border-l-green-500\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-slate-400 text-sm font-medium\">Active Farms</p>\r\n                <p className=\"text-3xl font-bold text-white mt-2\">{stats.totalFarms}</p>\r\n                <p className=\"text-xs text-slate-500 mt-2\">\r\n                  {stats.totalFarms === 0 ? '‚úö Add your first farm' : 'üìä Manage farms'}\r\n                </p>\r\n              </div>\r\n              <div className=\"text-5xl\">üåæ</div>\r\n            </div>\r\n            <Link \r\n              to=\"/farms\"\r\n              className=\"mt-4 inline-block px-4 py-2 bg-green-900/50 text-green-400 rounded-lg text-sm font-semibold hover:bg-green-900/70 transition\"\r\n            >\r\n              View Farms ‚Üí\r\n            </Link>\r\n          </div>\r\n\r\n          {/* Crops Card */}\r\n          <div className=\"bg-slate-800 border border-slate-700 rounded-lg shadow-lg p-6 hover:shadow-xl transition-shadow border-l-4 border-l-blue-500\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-slate-400 text-sm font-medium\">Growing Crops</p>\r\n                <p className=\"text-3xl font-bold text-white mt-2\">{stats.totalCrops}</p>\r\n                <p className=\"text-xs text-slate-500 mt-2\">\r\n                  {stats.totalCrops === 0 ? '‚úö Plant your first crop' : 'üå± Monitor growth'}\r\n                </p>\r\n              </div>\r\n              <div className=\"text-5xl\">üå±</div>\r\n            </div>\r\n            <Link \r\n              to=\"/crops\"\r\n              className=\"mt-4 inline-block px-4 py-2 bg-blue-900/50 text-blue-400 rounded-lg text-sm font-semibold hover:bg-blue-900/70 transition\"\r\n            >\r\n              View Crops ‚Üí\r\n            </Link>\r\n          </div>\r\n\r\n          {/* Products Card */}\r\n          <div className=\"bg-slate-800 border border-slate-700 rounded-lg shadow-lg p-6 hover:shadow-xl transition-shadow border-l-4 border-l-orange-500\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-slate-400 text-sm font-medium\">Listed Products</p>\r\n                <p className=\"text-3xl font-bold text-white mt-2\">{stats.totalProducts}</p>\r\n                <p className=\"text-xs text-slate-500 mt-2\">\r\n                  {stats.totalProducts === 0 ? '‚úö Sell products' : 'üõçÔ∏è Manage sales'}\r\n                </p>\r\n              </div>\r\n              <div className=\"text-5xl\">üì¶</div>\r\n            </div>\r\n            <Link \r\n              to=\"/selling\"\r\n              className=\"mt-4 inline-block px-4 py-2 bg-orange-900/50 text-orange-400 rounded-lg text-sm font-semibold hover:bg-orange-900/70 transition\"\r\n            >\r\n              Manage ‚Üí\r\n            </Link>\r\n          </div>\r\n\r\n          {/* Orders Card */}\r\n          <div className=\"bg-slate-800 border border-slate-700 rounded-lg shadow-lg p-6 hover:shadow-xl transition-shadow border-l-4 border-l-purple-500\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-slate-400 text-sm font-medium\">Orders Placed</p>\r\n                <p className=\"text-3xl font-bold text-white mt-2\">{stats.totalOrders}</p>\r\n                <p className=\"text-xs text-slate-500 mt-2\">\r\n                  {stats.totalOrders === 0 ? '‚úö Start shopping' : 'üõí View orders'}\r\n                </p>\r\n              </div>\r\n              <div className=\"text-5xl\">üõí</div>\r\n            </div>\r\n            <button\r\n              onClick={() => navigate('/cart')}\r\n              className=\"mt-4 inline-block px-4 py-2 bg-purple-900/50 text-purple-400 rounded-lg text-sm font-semibold hover:bg-purple-900/70 transition\"\r\n            >\r\n              Go to Cart ‚Üí\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Coins, Irrigation & Services Row */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8\">\r\n          {/* Coins Card */}\r\n          <div className=\"bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-lg shadow-lg p-6 text-white\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-yellow-100 text-sm font-medium\">Available Coins</p>\r\n                <p className=\"text-4xl font-bold mt-2\">{coins?.totalCoins || 0} ü™ô</p>\r\n                <p className=\"text-yellow-100 text-xs mt-2\">‚âà ‚Çπ{coins?.totalCoins || 0} in value</p>\r\n              </div>\r\n              <div className=\"text-6xl opacity-50\">üí∞</div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Irrigation Card */}\r\n          <div className=\"bg-gradient-to-r from-blue-400 to-blue-500 rounded-lg shadow-lg p-6 text-white\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-blue-100 text-sm font-medium\">Irrigation Schedules</p>\r\n                <p className=\"text-4xl font-bold mt-2\">{stats.totalIrrigations}</p>\r\n                <p className=\"text-blue-100 text-xs mt-2\">\r\n                  {stats.totalIrrigations === 0 ? '‚úö Create schedule' : 'üíß Active schedules'}\r\n                </p>\r\n              </div>\r\n              <div className=\"text-6xl opacity-50\">üíß</div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Services Card */}\r\n          <div className=\"bg-gradient-to-r from-indigo-400 to-indigo-500 rounded-lg shadow-lg p-6 text-white\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-indigo-100 text-sm font-medium\">Service Listings</p>\r\n                <p className=\"text-4xl font-bold mt-2\">{stats.totalServices}</p>\r\n                <p className=\"text-indigo-100 text-xs mt-2\">\r\n                  {stats.totalServices === 0 ? '‚úö List services' : 'üîß Active services'}\r\n                </p>\r\n              </div>\r\n              <div className=\"text-6xl opacity-50\">üöú</div>\r\n            </div>\r\n            <Link\r\n              to=\"/irrigation-services\"\r\n              className=\"mt-3 inline-block px-4 py-2 bg-indigo-600 text-white rounded-lg text-sm font-semibold hover:bg-indigo-500 transition\"\r\n            >\r\n              View Services ‚Üí\r\n            </Link>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Service Listings Section */}\r\n        <div className=\"bg-slate-800 border border-slate-700 rounded-lg shadow-lg p-6 mt-8\">\r\n          <h2 className=\"text-2xl font-bold text-white mb-4 flex items-center\">\r\n            <span className=\"mr-2\">üöú</span> My Service Listings\r\n          </h2>\r\n          {/* Filter and Sort Controls */}\r\n          <div className=\"flex flex-col md:flex-row gap-4 mb-4\">\r\n            <input\r\n              type=\"text\"\r\n              value={serviceFilter}\r\n              onChange={e => setServiceFilter(e.target.value)}\r\n              placeholder=\"Filter by name or description...\"\r\n              className=\"px-3 py-2 bg-slate-700 border border-slate-600 text-white placeholder-slate-400 rounded-lg w-full md:w-1/2 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\r\n            />\r\n            <select\r\n              value={serviceSort}\r\n              onChange={e => setServiceSort(e.target.value)}\r\n              className=\"px-3 py-2 bg-slate-700 border border-slate-600 text-white rounded-lg w-full md:w-1/4 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\r\n            >\r\n              <option value=\"name\">Sort by Name</option>\r\n              <option value=\"price\">Sort by Price</option>\r\n              <option value=\"status\">Sort by Status</option>\r\n            </select>\r\n          </div>\r\n\r\n          {/* Filtered and Sorted Listings */}\r\n          {serviceListings.length === 0 ? (\r\n            <p className=\"text-slate-500\">No service listings yet.</p>\r\n          ) : (\r\n            <ul>\r\n              {serviceListings\r\n                .filter(service =>\r\n                  (!serviceFilter ||\r\n                    (service.name && service.name.toLowerCase().includes(serviceFilter.toLowerCase())) ||\r\n                    (service.description && service.description.toLowerCase().includes(serviceFilter.toLowerCase()))\r\n                  )\r\n                )\r\n                .sort((a, b) => {\r\n                  if (serviceSort === 'name') {\r\n                    return (a.name || '').localeCompare(b.name || '');\r\n                  } else if (serviceSort === 'price') {\r\n                    return (a.price || 0) - (b.price || 0);\r\n                  } else if (serviceSort === 'status') {\r\n                    return (a.status || '').localeCompare(b.status || '');\r\n                  }\r\n                  return 0;\r\n                })\r\n                .map(service => (\r\n                  <li key={service.id} className=\"flex items-center justify-between border-b border-slate-700 py-3\">\r\n                    <div className=\"flex items-center gap-4\">\r\n                      <span className=\"text-2xl\">üîß</span>\r\n                      <div>\r\n                        <div className=\"font-semibold text-white\">{service.name}</div>\r\n                        {service.description && (\r\n                          <div className=\"text-sm text-slate-400 mt-1\">{service.description}</div>\r\n                        )}\r\n                        {service.price && (\r\n                          <div className=\"text-sm text-green-400 mt-1\">‚Çπ{service.price}</div>\r\n                        )}\r\n                        {service.status && (\r\n                          <div className=\"text-xs text-indigo-400 mt-1\">Status: {service.status}</div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    <div>\r\n                      <button\r\n                        className=\"bg-blue-500 text-white px-3 py-1 rounded mr-2\"\r\n                        onClick={() => editService(service.id)}\r\n                      >\r\n                        Edit\r\n                      </button>\r\n                      <button\r\n                        className=\"bg-red-500 text-white px-3 py-1 rounded\"\r\n                        onClick={() => setDeleteConfirmId(service.id)}\r\n                      >\r\n                        Delete\r\n                      </button>\r\n                    </div>\r\n                  </li>\r\n                ))}\r\n            </ul>\r\n          )}\r\n\r\n          {/* Delete Confirmation Dialog */}\r\n          {deleteConfirmId && (\r\n            <div className=\"fixed inset-0 flex items-center justify-center z-50\">\r\n              <div className=\"bg-black bg-opacity-50 absolute inset-0\"></div>\r\n              <div className=\"bg-slate-800 border border-slate-700 rounded-lg shadow-xl p-6 relative z-10 w-96\">\r\n                <h3 className=\"text-lg font-bold text-white mb-4\">Confirm Delete</h3>\r\n                <p className=\"text-slate-300 mb-6\">Are you sure you want to delete this service?</p>\r\n                <div className=\"flex justify-end gap-3\">\r\n                  <button\r\n                    className=\"bg-slate-600 text-slate-200 px-4 py-2 rounded hover:bg-slate-500 transition\"\r\n                    onClick={() => setDeleteConfirmId(null)}\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                  <button\r\n                    className=\"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-500 transition\"\r\n                    onClick={() => deleteService(deleteConfirmId)}\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Activity Feed Section */}\r\n        <div className=\"bg-slate-800 border border-slate-700 rounded-lg shadow-lg overflow-hidden\">\r\n          <div className=\"bg-gradient-to-r from-indigo-600 to-indigo-700 px-6 py-4\">\r\n            <h2 className=\"text-2xl font-bold text-white\">üìä Your Activity Feed</h2>\r\n            <p className=\"text-indigo-100 text-sm mt-1\">Track all your actions and interactions</p>\r\n          </div>\r\n\r\n          {/* Filters */}\r\n          <div className=\"px-6 py-4 border-b border-slate-700 bg-slate-700/50\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n              {/* Activity Type Filter */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-slate-300 mb-2\">Activity Type</label>\r\n                <select\r\n                  value={selectedActivityType}\r\n                  onChange={(e) => setSelectedActivityType(e.target.value)}\r\n                  className=\"w-full px-4 py-2 bg-slate-700 border border-slate-600 text-white rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\r\n                >\r\n                  {activityTypes.map(type => (\r\n                    <option key={type.value} value={type.value}>\r\n                      {type.icon} {type.label}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              {/* Search */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-slate-300 mb-2\">Search Activities</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={searchTerm}\r\n                  onChange={(e) => setSearchTerm(e.target.value)}\r\n                  placeholder=\"Search description...\"\r\n                  className=\"w-full px-4 py-2 bg-slate-700 border border-slate-600 text-white placeholder-slate-400 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\r\n                />\r\n              </div>\r\n\r\n              {/* Results Count */}\r\n              <div className=\"flex items-end\">\r\n                <div className=\"px-4 py-2 bg-indigo-900/50 text-indigo-300 rounded-lg font-semibold\">\r\n                  {filteredActivities.length} result{filteredActivities.length !== 1 ? 's' : ''}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Activity List */}\r\n          <div className=\"divide-y divide-slate-700 max-h-96 overflow-y-auto\">\r\n            {filteredActivities.length === 0 ? (\r\n              <div className=\"px-6 py-12 text-center\">\r\n                <p className=\"text-slate-400 text-lg\">üì≠ No activities found</p>\r\n                <p className=\"text-slate-500 text-sm mt-2\">Your activities will appear here</p>\r\n              </div>\r\n            ) : (\r\n              filteredActivities.map((activity) => (\r\n                <div key={activity.id} className=\"px-6 py-4 hover:bg-slate-700/50 transition\">\r\n                  <div className=\"flex items-start gap-4\">\r\n                    <div className=\"text-2xl flex-shrink-0 pt-1\">\r\n                      {getActivityIcon(activity.activityType)}\r\n                    </div>\r\n                    <div className=\"flex-1 min-w-0\">\r\n                      <p className=\"text-sm font-medium text-white\">{activity.description}</p>\r\n                      {activity.details && (\r\n                        <p className=\"text-xs text-slate-400 mt-1\">{activity.details}</p>\r\n                      )}\r\n                      <p className=\"text-xs text-slate-500 mt-2\">{activity.timeAgo}</p>\r\n                    </div>\r\n                    <div className=\"flex-shrink-0 ml-2\">\r\n                      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-700 text-slate-300\">\r\n                        {activity.activityType.replace(/_/g, ' ')}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))\r\n            )}\r\n          </div>\r\n\r\n          {/* Activity Stats */}\r\n          {activities.length > 0 && (\r\n            <div className=\"px-6 py-4 bg-slate-700/50 border-t border-slate-700\">\r\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-center\">\r\n                <div>\r\n                  <p className=\"text-2xl font-bold text-white\">\r\n                    {activities.filter(a => a.activityType.includes('FARM')).length}\r\n                  </p>\r\n                  <p className=\"text-xs text-slate-400\">Farm Actions</p>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-2xl font-bold text-white\">\r\n                    {activities.filter(a => a.activityType.includes('CROP')).length}\r\n                  </p>\r\n                  <p className=\"text-xs text-slate-400\">Crop Actions</p>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-2xl font-bold text-white\">\r\n                    {activities.filter(a => a.activityType.includes('ORDER')).length}\r\n                  </p>\r\n                  <p className=\"text-xs text-slate-400\">Order Actions</p>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-2xl font-bold text-white\">\r\n                    {activities.filter(a => a.activityType.includes('COIN')).length}\r\n                  </p>\r\n                  <p className=\"text-xs text-slate-400\">Coin Actions</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Quick Actions */}\r\n        <div className=\"mt-8 grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n          <button\r\n            onClick={() => navigate('/farms')}\r\n            className=\"bg-slate-800 border border-slate-700 rounded-lg shadow-md p-4 hover:shadow-lg hover:bg-slate-700 transition text-left border-l-4 border-l-green-500\"\r\n          >\r\n            <p className=\"text-2xl\">üåæ</p>\r\n            <p className=\"font-semibold text-white mt-2\">Add Farm</p>\r\n            <p className=\"text-sm text-slate-400\">Create a new farm</p>\r\n          </button>\r\n          \r\n          <button\r\n            onClick={() => navigate('/crops')}\r\n            className=\"bg-slate-800 border border-slate-700 rounded-lg shadow-md p-4 hover:shadow-lg hover:bg-slate-700 transition text-left border-l-4 border-l-blue-500\"\r\n          >\r\n            <p className=\"text-2xl\">üå±</p>\r\n            <p className=\"font-semibold text-white mt-2\">Plant Crop</p>\r\n            <p className=\"text-sm text-slate-400\">Add new crop</p>\r\n          </button>\r\n\r\n          <button\r\n            onClick={() => navigate('/buying')}\r\n            className=\"bg-slate-800 border border-slate-700 rounded-lg shadow-md p-4 hover:shadow-lg hover:bg-slate-700 transition text-left border-l-4 border-l-orange-500\"\r\n          >\r\n            <p className=\"text-2xl\">üõí</p>\r\n            <p className=\"font-semibold text-white mt-2\">Shop</p>\r\n            <p className=\"text-sm text-slate-400\">Browse marketplace</p>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DashboardEnhanced\r\n"],"names":["DashboardEnhanced","navigate","useNavigate","toast","showToast","closeToast","useToast","coins","useCoin","serviceFilter","setServiceFilter","useState","serviceSort","setServiceSort","deleteConfirmId","setDeleteConfirmId","stats","setStats","activities","setActivities","filteredActivities","setFilteredActivities","loading","setLoading","selectedActivityType","setSelectedActivityType","searchTerm","setSearchTerm","serviceListings","setServiceListings","activityTypes","useEffect","fetchStats","filterActivities","farmsRes","cropsRes","irrigationRes","productsRes","servicesRes","ordersRes","apiClient","activitiesRes","newStats","servicesData","user","allServices","filtered","s","error","editService","id","deleteService","prev","activity","getActivityIcon","activityType","jsxs","jsx","Toast","Link","e","service","a","b","type"],"mappings":"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"}