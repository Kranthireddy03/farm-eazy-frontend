import{r as d,i as T,j as e,T as P,l as D}from"./index-D_IIqowu.js";const E=()=>{const[u,N]=d.useState([]),[v,o]=d.useState(!0),[n,p]=d.useState(0),[w,y]=d.useState(!1),[i,C]=d.useState("all"),{toast:x,showToast:S,closeToast:A}=T();d.useEffect(()=>{(async()=>{o(!0);try{const t=await D.get(`/activities?page=${n}&size=20`),r=t.data.filter(a=>{const l=a.description.toLowerCase();return!l.includes("logged in")&&!l.includes("login")});N(r),y(t.data.length===20),o(!1)}catch{S("Failed to fetch activities","error"),o(!1)}})()},[n]);const m=s=>{const t=s.toLowerCase();return t.includes("coin")?"Coins":t.includes("farm")?"Farm":t.includes("crop")?"Crop":t.includes("product")?"Product":t.includes("service")||t.includes("irrigation")?"Service":t.includes("order")?"Order":t.includes("password")?"Security":t.includes("registered")||t.includes("profile")?"Account":"Other"},h=s=>{const t=s.toLowerCase();return t.includes("created")||t.includes("added")||t.includes("listed")||t.includes("registered")?"Created":t.includes("updated")||t.includes("changed")||t.includes("edited")?"Updated":t.includes("deleted")||t.includes("removed")?"Deleted":t.includes("placed")||t.includes("ordered")?"Placed":t.includes("confirmed")?"Confirmed":t.includes("cancelled")?"Cancelled":t.includes("earned")||t.includes("received")?"Earned":t.includes("spent")||t.includes("used")?"Spent":"Action"},g=s=>{switch(s){case"Coins":return"ðŸª™";case"Farm":return"ðŸŒ¾";case"Crop":return"ðŸŒ±";case"Product":return"ðŸ“¦";case"Service":return"ðŸšœ";case"Order":return"ðŸ›’";case"Security":return"ðŸ”’";case"Account":return"ðŸ‘¤";default:return"ðŸ“"}},b=s=>{switch(s){case"Created":return"bg-green-900/50 text-green-400 border-green-700";case"Updated":return"bg-blue-900/50 text-blue-400 border-blue-700";case"Deleted":return"bg-red-900/50 text-red-400 border-red-700";case"Placed":return"bg-purple-900/50 text-purple-400 border-purple-700";case"Confirmed":return"bg-teal-900/50 text-teal-400 border-teal-700";case"Cancelled":return"bg-orange-900/50 text-orange-400 border-orange-700";case"Earned":return"bg-yellow-900/50 text-yellow-400 border-yellow-700";case"Spent":return"bg-pink-900/50 text-pink-400 border-pink-700";default:return"bg-slate-700 text-slate-300 border-slate-600"}},f=s=>{switch(s){case"Coins":return"bg-yellow-900/40 text-yellow-400 border-yellow-700";case"Farm":return"bg-green-900/40 text-green-400 border-green-700";case"Crop":return"bg-lime-900/40 text-lime-400 border-lime-700";case"Product":return"bg-blue-900/40 text-blue-400 border-blue-700";case"Service":return"bg-purple-900/40 text-purple-400 border-purple-700";case"Order":return"bg-orange-900/40 text-orange-400 border-orange-700";case"Security":return"bg-red-900/40 text-red-400 border-red-700";case"Account":return"bg-indigo-900/40 text-indigo-400 border-indigo-700";default:return"bg-slate-700 text-slate-300 border-slate-600"}},j=s=>{const t=new Date(s),r=String(t.getDate()).padStart(2,"0"),a=String(t.getMonth()+1).padStart(2,"0"),l=t.getFullYear(),k=String(t.getHours()).padStart(2,"0"),$=String(t.getMinutes()).padStart(2,"0"),F=String(t.getSeconds()).padStart(2,"0");return{date:`${r}/${a}/${l}`,time:`${k}:${$}:${F}`}},c=i==="all"?u:u.filter(s=>m(s.description).toLowerCase()===i.toLowerCase());return e.jsxs(e.Fragment,{children:[x&&e.jsx(P,{message:x.message,type:x.type,onClose:A}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-600 to-green-700 rounded-xl shadow-lg p-8 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-4xl font-bold mb-2 flex items-center gap-3",children:[e.jsx("span",{className:"text-5xl",children:"ðŸ“Š"}),"Activity Timeline"]}),e.jsx("p",{className:"text-green-100 text-lg",children:"Track your farming operations and transactions"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-3xl font-bold",children:c.length}),e.jsx("div",{className:"text-green-100 text-sm",children:"Total Activities"})]})]})}),e.jsx("div",{className:"bg-slate-800 border border-slate-700 rounded-xl shadow-md p-2 overflow-x-auto",children:e.jsx("div",{className:"flex gap-2",children:["all","coins","farm","crop","product","service","order"].map(s=>e.jsx("button",{onClick:()=>C(s),className:`px-6 py-3 rounded-lg font-semibold text-sm whitespace-nowrap transition-all ${i===s?"bg-gradient-to-r from-green-600 to-green-700 text-white shadow-lg scale-105":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:s.charAt(0).toUpperCase()+s.slice(1)},s))})}),v?e.jsx("div",{className:"flex items-center justify-center h-96 bg-slate-800 border border-slate-700 rounded-xl shadow-md",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"spinner text-green-500 mb-4",children:e.jsxs("svg",{className:"animate-spin w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),e.jsx("p",{className:"text-slate-400 text-lg",children:"Loading your activities..."})]})}):e.jsx(e.Fragment,{children:c.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden lg:block bg-slate-800 border border-slate-700 rounded-xl shadow-lg overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-slate-700",children:[e.jsx("thead",{className:"bg-gradient-to-r from-slate-700 to-slate-600",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-300 uppercase tracking-wider",children:"Icon"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-300 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-300 uppercase tracking-wider",children:"Activity Description"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-300 uppercase tracking-wider",children:"Action Type"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-300 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-300 uppercase tracking-wider",children:"Time"})]})}),e.jsx("tbody",{className:"bg-slate-800 divide-y divide-slate-700",children:c.map((s,t)=>{const r=m(s.description),a=h(s.description),l=j(s.createdAt);return e.jsxs("tr",{className:`hover:bg-slate-700 transition-colors ${t%2===0?"bg-slate-800":"bg-slate-750"}`,children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-gradient-to-br from-green-900/50 to-green-800/50 shadow-sm",children:e.jsx("span",{className:"text-2xl",children:g(r)})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-3 py-1.5 text-xs font-semibold rounded-full border ${f(r)}`,children:r})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm font-medium text-white",children:s.description}),s.details&&e.jsx("div",{className:"text-xs text-slate-400 mt-1",children:s.details})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-3 py-1.5 text-xs font-semibold rounded-lg border ${b(a)}`,children:a})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-300",children:[e.jsx("span",{className:"text-lg",children:"ðŸ“…"}),e.jsx("span",{className:"font-mono font-medium",children:l.date})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-300",children:[e.jsx("span",{className:"text-lg",children:"â°"}),e.jsx("span",{className:"font-mono font-medium",children:l.time})]})})]},s.id)})})]})})}),e.jsx("div",{className:"lg:hidden space-y-4",children:c.map(s=>{const t=m(s.description),r=h(s.description),a=j(s.createdAt);return e.jsx("div",{className:"bg-slate-800 border border-slate-700 rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"p-5 space-y-4",children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-gradient-to-br from-green-900/50 to-green-800/50 shadow-sm",children:e.jsx("span",{className:"text-2xl",children:g(t)})}),e.jsxs("div",{children:[e.jsx("span",{className:`inline-block px-3 py-1 text-xs font-semibold rounded-full border ${f(t)}`,children:t}),e.jsx("div",{className:"mt-1",children:e.jsx("span",{className:`inline-block px-3 py-1 text-xs font-semibold rounded-lg border ${b(r)}`,children:r})})]})]})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-white",children:s.description}),s.details&&e.jsx("p",{className:"text-xs text-slate-400 mt-1 bg-slate-700 p-2 rounded",children:s.details})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[e.jsx("span",{children:"ðŸ“…"}),e.jsx("span",{className:"font-mono font-medium",children:a.date})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[e.jsx("span",{children:"â°"}),e.jsx("span",{className:"font-mono font-medium",children:a.time})]})]})]})},s.id)})}),e.jsx("div",{className:"bg-slate-800 border border-slate-700 rounded-xl shadow-md p-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("button",{className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-slate-300 font-semibold rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",onClick:()=>p(n-1),disabled:n===0,children:[e.jsx("span",{children:"â†"}),"Previous"]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-sm font-medium text-slate-300",children:["Page ",n+1]}),e.jsxs("div",{className:"text-xs text-slate-500",children:[c.length," activities"]})]}),e.jsxs("button",{className:"px-6 py-3 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white font-semibold rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",onClick:()=>p(n+1),disabled:!w,children:["Next",e.jsx("span",{children:"â†’"})]})]})})]}):e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl shadow-lg p-12 text-center",children:[e.jsx("div",{className:"text-8xl mb-6",children:"ðŸ“­"}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"No Activities Found"}),e.jsx("p",{className:"text-slate-300 mb-1",children:i!=="all"?`No ${i} activities to display.`:"Start using FarmEazy to see your activities here!"}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Activities like creating farms, adding crops, or placing orders will appear here."})]})})]})]})};export{E as default};
//# sourceMappingURL=Activities-hyNP3nIh.js.map
