{"version":3,"file":"RedirectReset-D3-yscJp.js","sources":["../../src/pages/RedirectReset.jsx"],"sourcesContent":["import { useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { API_BASE_URL } from '../config/api';\r\n\r\nexport default function RedirectReset() {\r\n  const { shortCode } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchFullToken = async () => {\r\n      try {\r\n        const response = await axios.get(`${API_BASE_URL}/auth/r/${shortCode}`);\r\n        const fullToken = response.data.token;\r\n        \r\n        // Redirect to reset password page with full token\r\n        navigate(`/reset-password?token=${fullToken}`, { replace: true });\r\n      } catch (error) {\r\n        console.error('Failed to resolve reset link:', error);\r\n        navigate('/login', { \r\n          replace: true,\r\n          state: { error: 'Invalid or expired reset link' }\r\n        });\r\n      }\r\n    };\r\n\r\n    if (shortCode) {\r\n      fetchFullToken();\r\n    }\r\n  }, [shortCode, navigate]);\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-100\">\r\n      <div className=\"text-center\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4\"></div>\r\n        <p className=\"text-gray-600\">Redirecting to password reset...</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["RedirectReset","shortCode","useParams","navigate","useNavigate","useEffect","fullToken","axios","API_BASE_URL","error","jsxs","jsx"],"mappings":"2EAKA,SAAwBA,GAAgB,CACtC,KAAM,CAAE,UAAAC,CAAA,EAAcC,EAAA,EAChBC,EAAWC,EAAA,EAEjBC,OAAAA,EAAAA,UAAU,IAAM,CAiBVJ,IAhBmB,SAAY,CACjC,GAAI,CAEF,MAAMK,GADW,MAAMC,EAAM,IAAI,GAAGC,CAAY,WAAWP,CAAS,EAAE,GAC3C,KAAK,MAGhCE,EAAS,yBAAyBG,CAAS,GAAI,CAAE,QAAS,GAAM,CAClE,OAASG,EAAO,CACd,QAAQ,MAAM,gCAAiCA,CAAK,EACpDN,EAAS,SAAU,CACjB,QAAS,GACT,MAAO,CAAE,MAAO,+BAAA,CAAgC,CACjD,CACH,CACF,GAGE,CAEJ,EAAG,CAACF,EAAWE,CAAQ,CAAC,QAGrB,MAAA,CAAI,UAAU,4DACb,SAAAO,EAAAA,KAAC,MAAA,CAAI,UAAU,cACb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,8EAAA,CAA+E,EAC9FA,EAAAA,IAAC,IAAA,CAAE,UAAU,gBAAgB,SAAA,kCAAA,CAAgC,CAAA,CAAA,CAC/D,CAAA,CACF,CAEJ"}