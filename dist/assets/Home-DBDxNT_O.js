import{u as E,r as t,f as P,g as M,j as e,h as v}from"./index-D_IIqowu.js";function y(l,d=1200){const[p,x]=t.useState(0),o=t.useRef();return t.useEffect(()=>{let r;function b(a){r||(r=a);const m=Math.min((a-r)/d,1);x(Math.floor(m*l)),m<1?o.current=requestAnimationFrame(b):x(l)}return o.current=requestAnimationFrame(b),()=>o.current&&cancelAnimationFrame(o.current)},[l,d]),p}function R(){const l=E(),[d,p]=t.useState(""),[x,o]=t.useState(""),{coins:r,refreshCoins:b}=P(),[a,m]=t.useState({totalFarms:0,totalProducts:0,totalServices:0}),[L,f]=t.useState(!1),{show:w,hide:S}=M(),[i,g]=t.useState(!0),[k,z]=t.useState(!1);t.useEffect(()=>{const h=localStorage.getItem("farmEazy_fullName"),N=localStorage.getItem("farmEazy_username"),n=localStorage.getItem("farmEazy_email"),u=h||N||(n?n.split("@")[0]:"Farmer");p(u),o(N||"user")},[]),t.useEffect(()=>{(async()=>{if(!localStorage.getItem("farmEazy_token")){console.log("No token found, skipping stats fetch"),g(!1);return}try{g(!0),w();const[n,u,A]=await Promise.allSettled([v.get("/farms"),v.get("/products/my-products"),v.get("/services/listings/my")]),c={totalFarms:0,totalProducts:0,totalServices:0};if(n.status==="fulfilled"){const s=n.value.data;c.totalFarms=Array.isArray(s)?s.length:s?.totalFarms||s?.count||0}if(u.status==="fulfilled"){const s=u.value.data;c.totalProducts=Array.isArray(s)?s.length:s?.totalProducts||s?.count||0}if(A.status==="fulfilled"){const s=A.value.data;s.content&&Array.isArray(s.content)?c.totalServices=s.totalElements||s.content.length:Array.isArray(s)?c.totalServices=s.length:c.totalServices=0}m(c)}catch(n){console.error("Error fetching stats:",n)}finally{g(!1),S()}})()},[w,S]),console.log("Animated Counter Stats:",a);const C=y(Number(a.totalFarms)||0),j=y(Number(a.totalProducts)||0),F=y(Number(a.totalServices)||0);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 -m-6 p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Quick Overview"}),e.jsx("p",{className:"text-slate-400",children:"Your farm at a glance. Click on any card to manage that section, or view detailed analytics on the Dashboard."})]}),e.jsxs("div",{className:"mb-10 rounded-3xl bg-gradient-to-r from-green-900 via-blue-900 to-slate-800 p-8 md:p-14 shadow-2xl flex flex-col md:flex-row items-center justify-between gap-8 animate-fade-in border border-slate-700",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-4xl md:text-5xl font-extrabold text-green-300 mb-3 drop-shadow-lg",children:["Welcome, ",d||x||"Farmer","!"]}),e.jsx("p",{className:"text-lg md:text-2xl text-slate-300 mb-4",children:"Manage your smart farm with ease and efficiency."}),e.jsx("button",{className:"mt-2 px-6 py-3 rounded-xl bg-green-600 hover:bg-green-700 text-white font-bold text-lg shadow-lg transition-all",onClick:()=>l("/dashboard"),children:"ðŸ“Š View Analytics Dashboard"})]}),e.jsxs("div",{className:"hidden md:block animate-fade-in-slow",children:[e.jsx("img",{src:"/farm-hero.svg",alt:"FarmEazy Hero",className:"w-64 h-64 object-contain drop-shadow-2xl",onError:h=>{h.target.style.display="none"}}),e.jsx("div",{className:"w-64 h-64 flex items-center justify-center text-6xl text-green-300 dark:text-green-900",style:{display:"none"},children:"ðŸŒ¾"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-12",children:[e.jsxs("div",{className:"bg-slate-800 rounded-lg shadow-lg p-6 border-l-4 border-green-500",children:[e.jsx("div",{className:"text-3xl font-bold text-green-400 mb-2",children:i?"...":C}),e.jsx("p",{className:"text-slate-300 text-sm",children:"Active Farms"}),e.jsx("p",{className:"text-slate-500 text-xs mt-1",children:i?"Loading...":a.totalFarms===0?"Add your first farm":"Farms active"})]}),e.jsxs("div",{className:"bg-slate-800 rounded-lg shadow-lg p-6 border-l-4 border-blue-500",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:i?"...":j}),e.jsx("p",{className:"text-slate-300 text-sm",children:"Products Listed"}),e.jsx("p",{className:"text-slate-500 text-xs mt-1",children:i?"Loading...":a.totalProducts===0?"List your first product":"Products available"})]}),e.jsxs("div",{className:"bg-slate-800 rounded-lg shadow-lg p-6 border-l-4 border-purple-500",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-400 mb-2 flex items-center gap-2",children:i?"...":e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"ðŸšœ"}),e.jsx("span",{children:F})]})}),e.jsx("p",{className:"text-slate-300 text-sm",children:"Service Listings"}),e.jsx("p",{className:"text-slate-500 text-xs mt-1",children:i?"Loading...":a.totalServices===0?"List equipment/workers":"Services available"})]}),e.jsxs("div",{className:"bg-slate-800 rounded-lg shadow-lg p-6 border-l-4 border-orange-500",children:[e.jsx("div",{className:"text-3xl font-bold text-orange-400 mb-2 flex items-center gap-2",children:k?"...":e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"ðŸª™"}),e.jsx("span",{children:r?.totalCoins||0})]})}),e.jsx("p",{className:"text-slate-300 text-sm",children:"Coins Balance"}),!k&&r?.dailyLoginCoinsAvailable>0&&e.jsxs("p",{className:"text-orange-400 text-xs mt-1",children:["+",r.dailyLoginCoinsAvailable*5," more today"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"bg-slate-800 rounded-2xl shadow-xl p-8 flex flex-col items-center hover:scale-105 hover:shadow-2xl transition-all cursor-pointer border border-green-900 group animate-slide-up",onClick:()=>l("/farms"),children:[e.jsx("span",{className:"text-5xl mb-3 group-hover:scale-110 transition-transform",children:"ðŸ¡"}),e.jsx("h2",{className:"text-2xl font-bold mb-2 text-green-400",children:"Farms Management"}),e.jsx("p",{className:"text-slate-400 mb-3 text-center",children:"Manage your farms and crops efficiently."}),e.jsxs("span",{className:"text-base text-green-400 font-bold",children:[C," Farms"]})]}),e.jsxs("div",{className:"bg-slate-800 rounded-2xl shadow-xl p-8 flex flex-col items-center hover:scale-105 hover:shadow-2xl transition-all cursor-pointer border border-blue-900 group animate-slide-up delay-100",onClick:()=>l("/selling"),children:[e.jsx("span",{className:"text-5xl mb-3 group-hover:scale-110 transition-transform",children:"ðŸ›’"}),e.jsx("h2",{className:"text-2xl font-bold mb-2 text-blue-400",children:"Sell Products"}),e.jsx("p",{className:"text-slate-400 mb-3 text-center",children:"List your products for sale to other farmers."}),e.jsxs("span",{className:"text-base text-blue-400 font-bold",children:[j," Products"]})]}),e.jsxs("div",{className:"bg-slate-800 rounded-2xl shadow-xl p-8 flex flex-col items-center hover:scale-105 hover:shadow-2xl transition-all cursor-pointer border border-purple-900 group animate-slide-up delay-200",onClick:()=>l("/buying"),children:[e.jsx("span",{className:"text-5xl mb-3 group-hover:scale-110 transition-transform",children:"ðŸ›ï¸"}),e.jsx("h2",{className:"text-2xl font-bold mb-2 text-purple-400",children:"Buy Products"}),e.jsx("p",{className:"text-slate-400 mb-3 text-center",children:"Browse and purchase products for your farm."}),e.jsxs("span",{className:"text-base text-purple-400 font-bold",children:[j," Available"]})]})]}),e.jsxs("div",{className:"mt-12 flex flex-col md:flex-row gap-8",children:[e.jsxs("div",{className:"bg-slate-800 rounded-2xl shadow-xl p-8 flex-1 flex flex-col items-center hover:scale-105 hover:shadow-2xl transition-all cursor-pointer border border-cyan-900 group animate-slide-up",onClick:()=>l("/irrigation-services"),children:[e.jsx("span",{className:"text-5xl mb-3 group-hover:scale-110 transition-transform",children:"ðŸ’§"}),e.jsx("h2",{className:"text-2xl font-bold mb-2 text-cyan-400",children:"Irrigation Services"}),e.jsx("p",{className:"text-slate-400 mb-3 text-center",children:"Schedule and manage irrigation for your crops."}),e.jsxs("span",{className:"text-base text-cyan-400 font-bold",children:[F," Services"]})]}),e.jsxs("div",{className:"bg-slate-800 rounded-2xl shadow-xl p-8 flex-1 flex flex-col items-center hover:scale-105 hover:shadow-2xl transition-all cursor-pointer border border-pink-900 group animate-slide-up delay-100",onClick:()=>f(!0),children:[e.jsx("span",{className:"text-5xl mb-3 group-hover:scale-110 transition-transform",children:"ðŸ’¬"}),e.jsx("h2",{className:"text-2xl font-bold mb-2 text-pink-400",children:"Support"}),e.jsx("p",{className:"text-slate-400 mb-3 text-center",children:"Get help and chat with our support team."}),e.jsx("span",{className:"text-base text-pink-400 font-bold",children:"24/7 Chat"})]})]}),e.jsxs("div",{className:"mt-12 bg-blue-900/30 border border-blue-800 rounded-lg p-8",children:[e.jsx("h3",{className:"text-xl font-bold text-blue-300 mb-4",children:"ðŸ’¡ How FarmEazy Works"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"text-3xl",children:"ðŸŒ±"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white mb-1",children:"Farms"}),e.jsx("p",{className:"text-sm text-slate-400",children:"Manage your farming operations efficiently with real-time monitoring of crops and irrigation."})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"text-3xl",children:"ðŸŽ¯"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white mb-1",children:"Sell Smart"}),e.jsx("p",{className:"text-sm text-slate-400",children:"List your products and reach customers directly. Build your brand and grow your business."})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"text-3xl",children:"ðŸª™"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white mb-1",children:"Earn Coins"}),e.jsx("p",{className:"text-sm text-slate-400",children:"Every purchase earns coins! Use them for discounts, free shipping, or special offers."})]})]})]})]}),e.jsx("div",{className:"mt-8 text-center text-sm text-slate-400",children:e.jsxs("p",{children:["Need help?"," ",e.jsx("button",{className:"text-green-400 hover:text-green-300 font-semibold",onClick:()=>f(!0),children:"Contact Support"})]})}),L&&e.jsx("div",{className:"fixed inset-0 z-50 bg-black/70 flex items-center justify-center px-4",children:e.jsxs("div",{className:"bg-slate-800 rounded-xl shadow-2xl max-w-md w-full p-6 border border-slate-700",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Contact Support"}),e.jsx("button",{className:"text-slate-400 hover:text-white",onClick:()=>f(!1),children:"âœ•"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-green-900/30 border border-green-700/50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-slate-400",children:"Phone Support"}),e.jsx("p",{className:"text-lg font-semibold text-white",children:"6301630368"}),e.jsx("a",{href:"tel:6301630368",className:"mt-2 inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition",children:"ðŸ“ž Call Now"})]}),e.jsxs("div",{className:"bg-blue-900/30 border border-blue-700/50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-slate-400",children:"Email Support"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("a",{href:"mailto:kranthijambuluri@gmail.com",className:"block text-blue-400 font-semibold hover:underline",children:"kranthijambuluri@gmail.com"}),e.jsx("a",{href:"mailto:kranthir520@gmail.com",className:"block text-blue-400 font-semibold hover:underline",children:"kranthir520@gmail.com"})]})]}),e.jsx("p",{className:"text-xs text-slate-500",children:"Support available 9 AM - 6 PM IST"})]})]})})]})}export{R as default};
//# sourceMappingURL=Home-DBDxNT_O.js.map
